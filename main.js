!function(){"use strict";class e{constructor(e,t){this._settings=e,this._form=t}_showInputError(e,t){const o=this._form.querySelector(".".concat(e.id,"-error"));e.classList.add(this._settings.inputErrorClass),o.textContent=t,o.classList.add(this._settings.errorClass)}_hideInputError(e){const t=this._form.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._settings.inputErrorClass),t.classList.remove(this._settings.errorClass),t.textContent=""}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._settings.inactiveButtonClass),this._buttonElement.setAttribute("disabled",!0)):(this._buttonElement.classList.remove(this._settings.inactiveButtonClass),this._buttonElement.removeAttribute("disabled"))}_setEventListeners(){this._inputList=Array.from(this._form.querySelectorAll(this._settings.inputSelector)),this._buttonElement=this._form.querySelector(this._settings.submitButtonSelector),this._toggleButtonState(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}resetValidation(){this._inputList.forEach((e=>{this._hideInputError(e),this._toggleButtonState()}))}enableValidation(){this._setEventListeners(this._form),this._form.addEventListener("submit",(function(e){e.preventDefault()}))}}function t(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}document.querySelector(".popup-photo");class o{constructor(e,o,r){let{name:s,link:n}=e;t(this,"_handleLikeEvent",(()=>{this._element.querySelector(".photo-card__like-button").classList.toggle("photo-card__like-button_active")})),t(this,"_handleDeleteEvent",(()=>{this._element.remove(),this._element=null})),this._name=s,this._image=n,this._cardSelector=o,this._handleCardClick=r}createCard(){return this._element=this._createNewPhotoCardElement(),this._addEventListeners(),this._element}_addEventListeners(){const e=this._element.querySelector(".photo-card__like-button");this._addLikeEventListener(e);const t=this._element.querySelector(".photo-card__delete-button");this._addDeleteEventListener(t);const o=this._element.querySelector(".photo-card__photo");this._addOpenPhotoEventListener(o)}_createNewPhotoCardElement(){const e=this._cardSelector.querySelector(".photo-card").cloneNode(!0),t=e.querySelector(".photo-card__photo"),o=e.querySelector(".photo-card__title");return t.src=this._image,t.alt=this._name,o.textContent=this._name,e}_addLikeEventListener(e){e.addEventListener("click",this._handleLikeEvent)}_addDeleteEventListener(e){e.addEventListener("click",this._handleDeleteEvent)}_addOpenPhotoEventListener(e){e.addEventListener("click",(()=>{this._handleCardClick()}))}}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class s{constructor(e){r(this,"_handleEscClose",(e=>{"Escape"==e.key&&this._popup.classList.contains("popup_opened")&&this.close()})),r(this,"_handleClickOnOverlayClose",(e=>{e.target.classList.contains("popup")&&this.close()})),this._popup=document.querySelector(e)}open(){this._popup.classList.add("popup_opened"),this.setEventListeners()}close(){this._popup.classList.remove("popup_opened"),this.removeEventListeners()}setEventListeners(){document.addEventListener("click",this._handleClickOnOverlayClose),document.addEventListener("keydown",this._handleEscClose),this._popup.querySelector(".popup__close-button").addEventListener("click",close)}removeEventListeners(){document.removeEventListener("click",this._handleClickOnOverlayClose),document.removeEventListener("keydown",this._handleEscClose),this._popup.querySelector(".popup__close-button").removeEventListener("click",close)}}class n extends s{constructor(e,t){var o,r;super(e),r=e=>{e.preventDefault(),this._handleSubmit(),this.close()},(o="_handleProfileFormSubmit")in this?Object.defineProperty(this,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[o]=r,this._handleSubmit=t,this._form=this._popup.querySelector(".form")}_getInputValues(){const e={};return Array.from(this._popup.querySelectorAll(".form__text-input")).forEach((t=>{e[t.getAttribute("name")]=t.value})),e}setEventListeners(){this._form.addEventListener("submit",this._handleProfileFormSubmit),super.setEventListeners()}removeEventListeners(){this._form.removeEventListener("submit",this._handleProfileFormSubmit),super.removeEventListeners()}close(){this._form.reset(),super.close()}}class i{constructor(e,t){let{items:o,renderer:r}=e;this._items=o,this._renderer=r,this._container=document.querySelector(t)}clear(){this._container.innerHTML=""}renderer(){this.clear(),this._items.forEach((e=>{this.addItem(this._renderer(e))}))}addItem(e){this._container.prepend(e)}}const c=document.querySelector(".popup-edit"),l=document.querySelector(".popup-add"),a=document.querySelector(".popup-photo"),u=c.querySelector(".popup__close-button"),h=l.querySelector(".popup__close-button"),d=a.querySelector(".popup__close-button"),_=c.querySelector(".form"),p=_.querySelector('.form__text-input[name="name"]'),m=_.querySelector('.form__text-input[name="about-me"]'),f=l.querySelector(".form"),v=f.querySelector('.form__text-input[name="title"]'),b=f.querySelector('.form__text-input[name="image-link"]'),E=document.querySelector(".profile"),S=E.querySelector(".profile__edit-button"),y=E.querySelector(".profile__add-button"),L=document.querySelector("#photo-card__template").content,g=new Map,q={formSelector:".form",inputSelector:".form__text-input",submitButtonSelector:".form__submit-button",inactiveButtonClass:"form__submit-button_disabled",inputErrorClass:"form__text-input-error_active",errorClass:"form__input-error_visible"};function C(e){return new o(e,L,k).createCard()}function k(){A.open(this._image,this._name)}const I=new class{constructor(e){this._options=e}getInitialCards(){return fetch(this._options.baseUrl+"/cards/",{headers:this._options.headers}).then((e=>e.ok?e.json():Promise.reject("Error: ".concat(e.status)))).then((e=>e)).catch((e=>Promise.reject("Error: ".concat(e.status)))).finally((()=>{console.log("All done")}))}setNewCard(e){let{cardName:t,cardLink:o}=e;return fetch(this._options.baseUrl+"/cards/",{method:"POST",headers:this._options.headers,body:JSON.stringify({name:t,link:o})}).then((e=>e.ok?e.json():Promise.reject("Error: ".concat(e.status)))).then((e=>e)).catch((e=>Promise.reject("Error: ".concat(e.status)))).finally((()=>{console.log("All done")}))}getCardLikes(){}getUserInfo(){return fetch(this._options.baseUrl+"/users/me",{headers:this._options.headers}).then((e=>e.ok?e.json():Promise.reject("Error: ".concat(e.status)))).then((e=>e)).catch((e=>Promise.reject("Error: ".concat(e.status)))).finally((()=>{console.log("All done")}))}setUserInfo(e){let{newName:t,newAbout:o}=e;return fetch(this._options.baseUrl+"/users/me",{method:"PATCH",headers:this._options.headers,body:JSON.stringify({name:t,about:o})}).then((e=>e.ok?e.json():Promise.reject("Error: ".concat(e.status)))).then((e=>e)).catch((e=>Promise.reject("Error: ".concat(e.status)))).finally((()=>{console.log("All done")}))}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"b9d1c3b6-c0f4-4224-ad8f-4c81efa3f89d","Content-Type":"application/json"}}),w=new class{constructor(e){let{nameSelector:t,jobSelector:o}=e;this._nameSelector=t,this._jobSelector=o}getUserInfo(){return{name:document.querySelector(this._nameSelector).textContent,job:document.querySelector(this._jobSelector).textContent}}setUserInfo(e){let{name:t,about:o}=e;const r=document.querySelector(this._nameSelector),s=document.querySelector(this._jobSelector);r.textContent=t,s.textContent=o}}({nameSelector:".profile__name",jobSelector:".profile__description"});let j;I.getUserInfo().then((e=>{w.setUserInfo(e)})),I.getInitialCards().then((e=>{j=new i({items:e,renderer:C},".photos__grid"),j.renderer()}));const P=new n(".popup-add",(function(){const e={cardName:v.value,cardLink:b.value};I.setNewCard(e).then((e=>{const t=new o(e,L,k);j.addItem(t.createCard())}))})),x=new n(".popup-edit",(function(){I.setUserInfo({newName:p.value,newAbout:m.value}).then((e=>{w.setUserInfo(e)}))})),A=new class extends s{constructor(e){super(e)}open(e,t){const o=this._popup.querySelector(".popup-photo__container"),r=o.querySelector(".popup-photo__photo"),s=o.querySelector(".popup-photo__title");r.src=e,s.textContent=t,r.alt=t,super.open()}}(".popup-photo");Array.from(document.querySelectorAll(q.formSelector)).forEach((t=>{const o=t.getAttribute("name"),r=new e(q,t);r.enableValidation(),g.set(o,r)})),y.addEventListener("click",(()=>{P.open(),g.get("add-form").resetValidation()})),h.addEventListener("click",(()=>{P.close()})),S.addEventListener("click",(()=>{const e=w.getUserInfo();p.value=e.name,m.value=e.job,x.open(),g.get("edit-form").resetValidation()})),u.addEventListener("click",(()=>{x.close()})),d.addEventListener("click",(()=>{A.close()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QlQsRUFBYSxJRzdMbkIsY0FBNkIzRCxFQUN6QnZFLFlBQVl3RSxHQUNSYyxNQUFNZCxHQUdWTSxLQUFLa0csRUFBWWpJLEdBQ2IsTUFBTWtJLEVBQWlCOUssS0FBS3VFLE9BQU9oRSxjQUFjLDJCQUMzQ29ELEVBQVFtSCxFQUFldkssY0FBYyx1QkFDckN3SyxFQUFRRCxFQUFldkssY0FBYyx1QkFFM0NvRCxFQUFNSyxJQUFNNkcsRUFDWkUsRUFBTW5LLFlBQWNnQyxFQUNwQmUsRUFBTU0sSUFBTXJCLEVBQ1p1QyxNQUFNUixTSGdMd0IsZ0JBaERuQjlDLE1BQU1DLEtBQUtVLFNBQVNULGlCQUFpQjRGLEVBQWlCQyxlQUM5RDFGLFNBQVM4SSxJQUNoQixNQUFNQyxFQUFXRCxFQUFZeEYsYUFBYSxRQUNwQzBGLEVBQWdCLElBQUl0TCxFQUFjK0gsRUFBa0JxRCxHQUMxREUsRUFBYzdJLG1CQUNkb0YsRUFBTTBELElBQUlGLEVBQVVDLE1Bb0R4QjVELEVBQVVuRixpQkFBaUIsU0FBUyxLQUNsQ3VJLEVBQVMvRixPQUNUOEMsRUFBTTJELElBeEtZLFlBd0tLaEoscUJBR3pCd0UsRUFBZXpFLGlCQUFpQixTQUFTLEtBQ3ZDdUksRUFBU2pHLFdBS1g0QyxFQUFXbEYsaUJBQWlCLFNBQVMsS0FDbkMsTUFBTWtKLEVBQWtCcEIsRUFBU04sY0FDakM1QyxFQUFVdEIsTUFBUTRGLEVBQWdCekksS0FDbENvRSxFQUFpQnZCLE1BQVE0RixFQUFnQmYsSUFDekNNLEVBQVVqRyxPQUNWOEMsRUFBTTJELElBdkxhLGFBdUxLaEoscUJBRzFCdUUsRUFBZ0J4RSxpQkFBaUIsU0FBUyxLQUN4Q3lJLEVBQVVuRyxXQUtab0MsRUFBaUIxRSxpQkFBaUIsU0FBUyxLQUN6QzRGLEVBQVd0RCxXIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtKXtcclxuICAgIHRoaXMuX3NldHRpbmdzID0gc2V0dGluZ3M7XHJcbiAgICB0aGlzLl9mb3JtID0gZm9ybTtcclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9zZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fc2V0dGluZ3MuZXJyb3JDbGFzcyk7XHJcbiAgfTtcclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2V0dGluZ3MuZXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIH07XHJcblxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fc2V0dGluZ3MuaW5wdXRTZWxlY3RvcikpO1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9zZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcblxyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgcmVzZXRWYWxpZGF0aW9uKCl7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycyh0aGlzLl9mb3JtKTtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCB7Rm9ybVZhbGlkYXRvcn07XHJcbiIsIlxyXG5jb25zdCBwb3B1cFBob3RvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwLXBob3RvJyk7XHJcblxyXG5cclxuY2xhc3MgQ2FyZCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoeyBuYW1lLCBsaW5rIH0sIGNhcmRTZWxlY3RvciwgaGFuZGxlQ2FyZENsaWNrKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX25hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuX2ltYWdlID0gbGluaztcclxuICAgICAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xyXG4gICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAqIENyZWF0ZXMgb25lIHNpbmdsZSBwaG90byBjYXJkIHdpdGggc3BlY2lmaWVkIGNhcmQgaW5mb3JtYXRpb24gKG9iamVjdClcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBjYXJkXHJcbiAgICAgKiBAcmV0dXJucyBwaG90b0NhcmQgdG8gYmUgcmVuZGVyZWRcclxuICAgICAqL1xyXG4gICAgY3JlYXRlQ2FyZCgpIHtcclxuICAgICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2NyZWF0ZU5ld1Bob3RvQ2FyZEVsZW1lbnQoKTtcclxuICAgICAgdGhpcy5fYWRkRXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIF9hZGRFdmVudExpc3RlbmVycygpe1xyXG5cclxuICAgICAgICBjb25zdCBsaWtlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBob3RvLWNhcmRfX2xpa2UtYnV0dG9uXCIpO1xyXG4gICAgICAgIHRoaXMuX2FkZExpa2VFdmVudExpc3RlbmVyKGxpa2VCdXR0b24pO1xyXG5cclxuICAgICAgICBjb25zdCBkZWxldGVCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGhvdG8tY2FyZF9fZGVsZXRlLWJ1dHRvblwiKTtcclxuICAgICAgICB0aGlzLl9hZGREZWxldGVFdmVudExpc3RlbmVyKGRlbGV0ZUJ1dHRvbik7XHJcblxyXG4gICAgICAgIGNvbnN0IHBob3RvID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBob3RvLWNhcmRfX3Bob3RvXCIpO1xyXG4gICAgICAgIHRoaXMuX2FkZE9wZW5QaG90b0V2ZW50TGlzdGVuZXIocGhvdG8pO1xyXG4gICAgfVxyXG5cclxuICAgIF9jcmVhdGVOZXdQaG90b0NhcmRFbGVtZW50KCkge1xyXG4gICAgICAgIGNvbnN0IHBob3RvQ2FyZCA9IHRoaXMuX2NhcmRTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKFwiLnBob3RvLWNhcmRcIikuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICAgICAgICBjb25zdCBwaG90byA9IHBob3RvQ2FyZC5xdWVyeVNlbGVjdG9yKFwiLnBob3RvLWNhcmRfX3Bob3RvXCIpO1xyXG4gICAgICAgIGNvbnN0IHBob3RvVGl0bGUgPSBwaG90b0NhcmQucXVlcnlTZWxlY3RvcihcIi5waG90by1jYXJkX190aXRsZVwiKTtcclxuXHJcbiAgICAgICAgcGhvdG8uc3JjID0gdGhpcy5faW1hZ2U7XHJcbiAgICAgICAgcGhvdG8uYWx0ID0gdGhpcy5fbmFtZTtcclxuICAgICAgICBwaG90b1RpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHBob3RvQ2FyZDtcclxuICAgIH1cclxuXHJcbiAgICAvKlxyXG4gICAgS2VlcGluZyBjb21tZW50IGZvciBsZWFybmluZyBwdXJwb3Nlc1xyXG4gICAgZGVjbGFyZSBtZXRob2RzIGFzIGFycm93IGZ1bmN0aW9ucyB0byBub3QgbG9zZSBjb250ZXh0IGB0aGlzYC4gYHRoaXNgIGlzIENhcmQgaW5zdGFuY2UgaGVyZVxyXG4gICAgKi9cclxuICAgIF9oYW5kbGVMaWtlRXZlbnQgPSAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGxpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGhvdG8tY2FyZF9fbGlrZS1idXR0b25cIik7XHJcbiAgICAgIGxpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZSgncGhvdG8tY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlJyk7XHJcbiAgICB9XHJcblxyXG4gICAgX2FkZExpa2VFdmVudExpc3RlbmVyKGxpa2VCdXR0b24pIHtcclxuICAgICAgICBsaWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVMaWtlRXZlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIF9oYW5kbGVEZWxldGVFdmVudCA9ICgpID0+IHtcclxuICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcclxuICAgICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgX2FkZERlbGV0ZUV2ZW50TGlzdGVuZXIoZGVsZXRlQnV0dG9uKSB7XHJcbiAgICAgICAgZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVEZWxldGVFdmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgX2FkZE9wZW5QaG90b0V2ZW50TGlzdGVuZXIocGhvdG8pIHtcclxuICAgICAgICBwaG90by5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQge0NhcmR9XHJcbiIsImNsYXNzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB9XHJcblxyXG4gICAgb3BlbigpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgICAgIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZUNsaWNrT25PdmVybGF5Q2xvc2UpO1xyXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICAgIHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2xvc2UtYnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlKTtcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZUNsaWNrT25PdmVybGF5Q2xvc2UpO1xyXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICAgIHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2xvc2UtYnV0dG9uJykucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlKTtcclxuICAgIH1cclxuXHJcbiAgICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XHJcbiAgICAgICAgaWYoZXZ0LmtleSA9PSBcIkVzY2FwZVwiICYmIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfb3BlbmVkJykpe1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9oYW5kbGVDbGlja09uT3ZlcmxheUNsb3NlID0gKGV2dCkgPT4ge1xyXG4gICAgICAgIGlmKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBcIikpe1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCB7UG9wdXB9O1xyXG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5jbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlU3VibWl0KSB7XHJcbiAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVTdWJtaXQgPSBoYW5kbGVTdWJtaXQ7XHJcbiAgICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcuZm9ybScpO1xyXG4gICAgfVxyXG5cclxuICAgIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgICAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xyXG4gICAgICAgIGNvbnN0IGlucHV0cyA9IEFycmF5LmZyb20odGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvckFsbChcIi5mb3JtX190ZXh0LWlucHV0XCIpKTtcclxuXHJcbiAgICAgICAgaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgICAgICAgIGlucHV0VmFsdWVzW2lucHV0LmdldEF0dHJpYnV0ZSgnbmFtZScpXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLl9oYW5kbGVQcm9maWxlRm9ybVN1Ym1pdCk7XHJcbiAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgIHRoaXMuX2Zvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLl9oYW5kbGVQcm9maWxlRm9ybVN1Ym1pdCk7XHJcbiAgICAgIHN1cGVyLnJlbW92ZUV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgX2hhbmRsZVByb2ZpbGVGb3JtU3VibWl0ID0gKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlU3VibWl0KCk7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHsgUG9wdXBXaXRoRm9ybSB9XHJcbiIsImNsYXNzIFNlY3Rpb24ge1xyXG4gICAgY29uc3RydWN0b3IoIHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgICAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsZWFyKCkge1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcmVyKCkge1xyXG4gICAgICAgIHRoaXMuY2xlYXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy5faXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgIHRoaXMuYWRkSXRlbSh0aGlzLl9yZW5kZXJlcihpdGVtKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkSXRlbShpdGVtKSB7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoaXRlbSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7U2VjdGlvbn1cclxuIiwiaW1wb3J0IFwiLi9zdHlsZXMvaW5kZXguY3NzXCI7XHJcblxyXG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCB7IENhcmQgfSBmcm9tIFwiLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IHsgUG9wdXBXaXRoRm9ybSB9IGZyb20gXCIuL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgeyBQb3B1cFdpdGhJbWFnZSB9IGZyb20gXCIuL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tIFwiLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCJcclxuaW1wb3J0IHsgU2VjdGlvbiB9IGZyb20gXCIuL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgeyBBcGkgfSBmcm9tIFwiLi9jb21wb25lbnRzL0FwaS5qc1wiXHJcblxyXG4vL1RPRE8gaG93IHRvIHVzZSBpdCBvbiBQb3B1cEZvcm0gd2hlbiBvcGVuaW5nIGl0LCB0byByZXRyaWV2ZSB0aGUgaW5mby5cclxuY29uc3QgdXNlclNlbGVjdG9ycyA9IHtcclxuICBuYW1lU2VsZWN0b3I6IFwiLnByb2ZpbGVfX25hbWVcIixcclxuICBqb2JTZWxlY3RvcjogXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIlxyXG59O1xyXG5cclxuY29uc3QgaW5pdGlhbFVzZXJJbmZvID0ge1xyXG4gIG5ld05hbWU6IFwiSmFjcXVlcyBDb3VzdGVhdVwiLFxyXG4gIG5ld0pvYjogXCJFeHBsb3JlclwiXHJcbn07XHJcblxyXG4vKiogRGVjbGFyYXRpb24gb2YgdGhlIFBvcHVwcyAqL1xyXG5jb25zdCBwb3B1cEVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtZWRpdCcpO1xyXG5jb25zdCBwb3B1cEFkZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1hZGQnKTtcclxuY29uc3QgcG9wdXBQaG90byA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1waG90bycpO1xyXG5cclxuLyoqIERlY2xhcmF0aW9uIG9mIHRoZSBDbG9zZSBCdXR0b25zICovXHJcbmNvbnN0IGNsb3NlQnV0dG9uRWRpdCA9IHBvcHVwRWRpdC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Nsb3NlLWJ1dHRvbicpO1xyXG5jb25zdCBjbG9zZUJ1dHRvbkFkZCA9IHBvcHVwQWRkLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2xvc2UtYnV0dG9uJyk7XHJcbmNvbnN0IGNsb3NlQnV0dG9uUGhvdG8gPSBwb3B1cFBob3RvLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2xvc2UtYnV0dG9uJyk7XHJcblxyXG4vKiogRGVjbGFyYXRpb24gb2YgdGhlIEZvcm1zICovXHJcblxyXG5jb25zdCBmb3JtRWRpdE5hbWUgPSAnZWRpdC1mb3JtJztcclxuY29uc3QgZm9ybUFkZE5hbWUgPSAnYWRkLWZvcm0nO1xyXG5cclxuY29uc3QgZm9ybUVkaXQgPSBwb3B1cEVkaXQucXVlcnlTZWxlY3RvcignLmZvcm0nKTtcclxuY29uc3QgbmFtZUlucHV0ID0gZm9ybUVkaXQucXVlcnlTZWxlY3RvcignLmZvcm1fX3RleHQtaW5wdXRbbmFtZT1cIm5hbWVcIl0nKTtcclxuY29uc3QgZGVzY3JpcHRpb25JbnB1dCA9IGZvcm1FZGl0LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX190ZXh0LWlucHV0W25hbWU9XCJhYm91dC1tZVwiXScpO1xyXG5cclxuY29uc3QgZm9ybUFkZCA9IHBvcHVwQWRkLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XHJcbmNvbnN0IHRpdGxlSW5wdXQgPSBmb3JtQWRkLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX190ZXh0LWlucHV0W25hbWU9XCJ0aXRsZVwiXScpO1xyXG5jb25zdCBsaW5rSW5wdXQgPSBmb3JtQWRkLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX190ZXh0LWlucHV0W25hbWU9XCJpbWFnZS1saW5rXCJdJyk7XHJcblxyXG5jb25zdCBwcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUnKTtcclxuY29uc3QgZWRpdEJ1dHRvbiA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcclxuY29uc3QgYWRkQnV0dG9uID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XHJcblxyXG4vKiogRGVjbGFyYXRpb24gb2YgdGhlIFBob3RvcyAqL1xyXG5jb25zdCBwaG90b0dyaWRTZWxlY3RvciA9IFwiLnBob3Rvc19fZ3JpZFwiO1xyXG5jb25zdCBwaG90b0NhcmRUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcGhvdG8tY2FyZF9fdGVtcGxhdGVcIikuY29udGVudDtcclxuXHJcbi8qKiBEZWNsYXJhdGlvbiBvZiB0aGUgSW5pdGlhbCBDYXJkcyAqL1xyXG5jb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcbiAge1xyXG4gICAgbmFtZTogXCJZb3NlbWl0ZSBWYWxsZXlcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUveW9zZW1pdGUuanBnXCJcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGFrZSBMb3Vpc2VcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvbGFrZS1sb3Vpc2UuanBnXCJcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiQmFsZCBNb3VudGFpbnNcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvYmFsZC1tb3VudGFpbnMuanBnXCJcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxyXG4gICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS9sYXRlbWFyLmpwZ1wiXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxyXG4gICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS92YW5vaXNlLmpwZ1wiXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhZ28gZGkgQnJhaWVzXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2xhZ28uanBnXCJcclxuICB9XHJcbl07XHJcblxyXG5jb25zdCBmb3JtcyA9IG5ldyBNYXAoKTtcclxuXHJcbi8qKiBEZWNsYXJhdGlvbiBvZiB0aGUgU2V0dGluZyBvYmplY3QgZm9yIGNhcmQgdmFsaWRhdGlvbiAqL1xyXG5jb25zdCB2YWxpZGF0aW9uQ29uZmlnID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIuZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLmZvcm1fX3RleHQtaW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIuZm9ybV9fc3VibWl0LWJ1dHRvblwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwiZm9ybV9fc3VibWl0LWJ1dHRvbl9kaXNhYmxlZFwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJmb3JtX190ZXh0LWlucHV0LWVycm9yX2FjdGl2ZVwiLFxyXG4gIGVycm9yQ2xhc3M6IFwiZm9ybV9faW5wdXQtZXJyb3JfdmlzaWJsZVwiXHJcbn07XHJcblxyXG5cclxuLyoqXHJcbiAqIEhhbmRsZXMgY2FyZCBjcmVhdGlvbiBvbiBTZWN0aW9uXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIHRpdGxlIG9mIHRoZSBjYXJkXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBsaW5rIC0gVGhlIGxpbmsgb2YgdGhlIHBob3RvXHJcbiAqL1xyXG5mdW5jdGlvbiByZW5kZXJDYXJkKGNhcmQpIHtcclxuICBjb25zdCBuZXdDYXJkID0gbmV3IENhcmQoY2FyZCwgcGhvdG9DYXJkVGVtcGxhdGUsIGhhbmRsZUNhcmRDbGljayk7XHJcbiAgY29uc3QgcGhvdG9DYXJkID0gbmV3Q2FyZC5jcmVhdGVDYXJkKCk7XHJcbiAgcmV0dXJuIHBob3RvQ2FyZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEhhbmRsZXMgbmV3IHBsYWNlIGZvcm0gc3VibWl0IChTZW50IHRvIHBvcHVwV2l0aEZvcm0pXHJcbiAqL1xyXG5mdW5jdGlvbiBoYW5kbGVOZXdQbGFjZUZvcm1TdWJtaXQoKSB7XHJcbiAgY29uc3QgY2FyZCA9IHtcclxuICAgIGNhcmROYW1lOiB0aXRsZUlucHV0LnZhbHVlLFxyXG4gICAgY2FyZExpbms6IGxpbmtJbnB1dC52YWx1ZVxyXG4gIH07XHJcblxyXG4gIGFwaS5zZXROZXdDYXJkKGNhcmQpXHJcbiAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICBjb25zdCBuZXdDYXJkID0gbmV3IENhcmQocmVzLCBwaG90b0NhcmRUZW1wbGF0ZSwgaGFuZGxlQ2FyZENsaWNrKTtcclxuICAgICAgc2VjdGlvbi5hZGRJdGVtKG5ld0NhcmQuY3JlYXRlQ2FyZCgpKTtcclxuICAgIH0pXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBIYW5kbGVzIG5ldyBwcm9maWxlIGZvcm0gc3VibWl0IChTZW50IHRvIHBvcHVwV2l0aEZvcm0pXHJcbiAqL1xyXG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdCgpIHtcclxuICBhcGkuc2V0VXNlckluZm8oeyBuZXdOYW1lOiBuYW1lSW5wdXQudmFsdWUsIG5ld0Fib3V0OiBkZXNjcmlwdGlvbklucHV0LnZhbHVlIH0pXHJcbiAgLnRoZW4oIHJlcyA9PiB7XHJcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyhyZXMpO1xyXG4gIH0pXHJcbiAgXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBIYW5kbGVzIG9wZW4gcGhvdG8gb24gY2FyZCBjbGljayAoc2VudCB0byBwb3B1cFdpdGhDYXJkKVxyXG4gKi9cclxuZnVuY3Rpb24gaGFuZGxlQ2FyZENsaWNrKCkge1xyXG4gIHBob3RvUG9wdXAub3Blbih0aGlzLl9pbWFnZSwgdGhpcy5fbmFtZSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBFbmFibGVzIHZhbGlkYXRpb24gb24gYWxsIGZvcm1zLlxyXG4gKiBTYXZlcyB0aGUgZm9ybVZhbGlkYXRvcnMgb24gYSBNYXAgZm9yIGZ1dHVyZSBhY2Nlc3NcclxuICovXHJcbmZ1bmN0aW9uIGVuYWJsZUZvcm1WYWxpZGF0aW9uT25BbGxGb3JtcygpIHtcclxuICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh2YWxpZGF0aW9uQ29uZmlnLmZvcm1TZWxlY3RvcikpO1xyXG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XHJcbiAgICBjb25zdCBmb3JtTmFtZSA9IGZvcm1FbGVtZW50LmdldEF0dHJpYnV0ZShcIm5hbWVcIik7XHJcbiAgICBjb25zdCBmb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgZm9ybUVsZW1lbnQpO1xyXG4gICAgZm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiAgICBmb3Jtcy5zZXQoZm9ybU5hbWUsIGZvcm1WYWxpZGF0b3IpO1xyXG4gIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogU2V0dGluZyB1cCB0aGUgQXBpIGNsYXNzXHJcbiAqL1xyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvZ3JvdXAtMTJcIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcImI5ZDFjM2I2LWMwZjQtNDIyNC1hZDhmLTRjODFlZmEzZjg5ZFwiLFxyXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcclxuICB9XHJcbn0pO1xyXG5cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8odXNlclNlbGVjdG9ycyk7XHJcblxyXG4vKiogVXNlciBpbmZvcm1hdGlvbiBsb2FkaW5nICovXHJcbmFwaS5nZXRVc2VySW5mbygpXHJcbiAgLnRoZW4ocmVzID0+IHtcclxuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcyk7XHJcbiAgfSlcclxuXHJcbi8qKlxyXG4gKiBMb2FkaW5nIGNhcmRzIHdpdGggU2VjdGlvblxyXG4gKi9cclxuXHJcbmxldCBzZWN0aW9uO1xyXG5cclxuYXBpLmdldEluaXRpYWxDYXJkcygpXHJcbiAgLnRoZW4ocmVzID0+IHtcclxuICAgIHNlY3Rpb24gPSBuZXcgU2VjdGlvbigge1xyXG4gICAgICBpdGVtczogcmVzLFxyXG4gICAgICByZW5kZXJlcjogcmVuZGVyQ2FyZFxyXG4gICAgfSxcclxuICAgIHBob3RvR3JpZFNlbGVjdG9yKTtcclxuXHJcbiAgICBzZWN0aW9uLnJlbmRlcmVyKCk7XHJcbiAgfSk7XHJcblxyXG4vKiogUG9wdXAgbG9hZGluZyBhbmQgZXZlbnQgbGlzdGVuZXIgc2V0dXAgKi9cclxuY29uc3QgYWRkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwLWFkZCcsIGhhbmRsZU5ld1BsYWNlRm9ybVN1Ym1pdCk7XHJcbmNvbnN0IGVkaXRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXAtZWRpdCcsIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KTtcclxuY29uc3QgcGhvdG9Qb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZSgnLnBvcHVwLXBob3RvJyk7XHJcblxyXG4vKiogRW5hYmxlIFZhbGlkYXRpb24gKi9cclxuZW5hYmxlRm9ybVZhbGlkYXRpb25PbkFsbEZvcm1zKCk7XHJcblxyXG5cclxuLyoqIERlY2xhcmF0aW9uIG9mIHRoZSBldmVudCBsaXN0ZW5lcnMgKi9cclxuXHJcbi8qKiBBZGQgUG9wdXAgYW5kIEZvcm0gKi9cclxuYWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgYWRkUG9wdXAub3BlbigpO1xyXG4gIGZvcm1zLmdldChmb3JtQWRkTmFtZSkucmVzZXRWYWxpZGF0aW9uKCk7XHJcbn0pO1xyXG5cclxuY2xvc2VCdXR0b25BZGQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBhZGRQb3B1cC5jbG9zZSgpO1xyXG59KTtcclxuXHJcblxyXG4vKiogRWRpdCBQb3B1cCBhbmQgRm9ybSAqL1xyXG5lZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgY29uc3QgY3VycmVudFVzZXJJbmZvID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuICBuYW1lSW5wdXQudmFsdWUgPSBjdXJyZW50VXNlckluZm8ubmFtZTtcclxuICBkZXNjcmlwdGlvbklucHV0LnZhbHVlID0gY3VycmVudFVzZXJJbmZvLmpvYjtcclxuICBlZGl0UG9wdXAub3BlbigpO1xyXG4gIGZvcm1zLmdldChmb3JtRWRpdE5hbWUpLnJlc2V0VmFsaWRhdGlvbigpO1xyXG59KTtcclxuXHJcbmNsb3NlQnV0dG9uRWRpdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGVkaXRQb3B1cC5jbG9zZSgpO1xyXG59KTtcclxuXHJcbi8qKiBQaG90byBwb3B1cCAqL1xyXG5cclxuY2xvc2VCdXR0b25QaG90by5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHBob3RvUG9wdXAuY2xvc2UoKTtcclxufSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuIiwiY2xhc3MgQXBpIHtcclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcclxuICAgIH1cclxuXHJcbiAgICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKHRoaXMuX29wdGlvbnMuYmFzZVVybCtcIi9jYXJkcy9cIiwge1xyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9vcHRpb25zLmhlYWRlcnNcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnRoZW4oIHJlcyA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKCBlcnIgPT4ge1xyXG4gICAgICAgICAgICAvLyBpZiB0aGUgc2VydmVyIHJldHVybnMgYW4gZXJyb3IsIHJlamVjdCB0aGUgcHJvbWlzZVxyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke2Vyci5zdGF0dXN9YCk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmZpbmFsbHkgKCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQWxsIGRvbmVcIik7XHJcbiAgICAgICAgICB9KVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBzZXROZXdDYXJkKCB7IGNhcmROYW1lLCBjYXJkTGluayB9KSB7XHJcbiAgICAgIHJldHVybiBmZXRjaCh0aGlzLl9vcHRpb25zLmJhc2VVcmwrXCIvY2FyZHMvXCIsIHtcclxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX29wdGlvbnMuaGVhZGVycyxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICBuYW1lOiBjYXJkTmFtZSxcclxuICAgICAgICAgIGxpbms6IGNhcmRMaW5rXHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oIHJlcyA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKCBlcnIgPT4ge1xyXG4gICAgICAgIC8vIGlmIHRoZSBzZXJ2ZXIgcmV0dXJucyBhbiBlcnJvciwgcmVqZWN0IHRoZSBwcm9taXNlXHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtlcnIuc3RhdHVzfWApO1xyXG4gICAgICB9KVxyXG4gICAgICAuZmluYWxseSAoICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkFsbCBkb25lXCIpO1xyXG4gICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGdldENhcmRMaWtlcygpIHtcclxuICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICAgIHJldHVybiBmZXRjaCh0aGlzLl9vcHRpb25zLmJhc2VVcmwrXCIvdXNlcnMvbWVcIiwge1xyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX29wdGlvbnMuaGVhZGVyc1xyXG4gICAgICB9KVxyXG4gICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbiggcmVzID0+IHtcclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goIGVyciA9PiB7XHJcbiAgICAgICAgLy8gaWYgdGhlIHNlcnZlciByZXR1cm5zIGFuIGVycm9yLCByZWplY3QgdGhlIHByb21pc2VcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke2Vyci5zdGF0dXN9YCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5maW5hbGx5ICggKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQWxsIGRvbmVcIik7XHJcbiAgICAgIH0pXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNldFVzZXJJbmZvKCB7IG5ld05hbWUsIG5ld0Fib3V0IH0pIHtcclxuICAgICAgcmV0dXJuIGZldGNoKHRoaXMuX29wdGlvbnMuYmFzZVVybCtcIi91c2Vycy9tZVwiLCB7XHJcbiAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5fb3B0aW9ucy5oZWFkZXJzLFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIG5hbWU6IG5ld05hbWUsXHJcbiAgICAgICAgICBhYm91dDogbmV3QWJvdXRcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbiggcmVzID0+IHtcclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goIGVyciA9PiB7XHJcbiAgICAgICAgLy8gaWYgdGhlIHNlcnZlciByZXR1cm5zIGFuIGVycm9yLCByZWplY3QgdGhlIHByb21pc2VcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke2Vyci5zdGF0dXN9YCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5maW5hbGx5ICggKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQWxsIGRvbmVcIik7XHJcbiAgICAgIH0pXHJcblxyXG4gICAgfVxyXG4gICAgXHJcbn1cclxuXHJcbmV4cG9ydCB7IEFwaSB9O1xyXG4iLCJjbGFzcyBVc2VySW5mbyB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3Rvciwgam9iU2VsZWN0b3IgfSkge1xyXG4gICAgICAgIHRoaXMuX25hbWVTZWxlY3RvciA9IG5hbWVTZWxlY3RvcjtcclxuICAgICAgICB0aGlzLl9qb2JTZWxlY3RvciA9IGpvYlNlbGVjdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFVzZXJJbmZvKCkge1xyXG4gICAgICAgIHJldHVybiB7IFxyXG4gICAgICAgICAgICBuYW1lOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX25hbWVTZWxlY3RvcikudGV4dENvbnRlbnQsXHJcbiAgICAgICAgICAgIGpvYjogZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9qb2JTZWxlY3RvcikudGV4dENvbnRlbnRcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVzZXJJbmZvKCB7IG5hbWUsIGFib3V0IH0gKSB7XHJcbiAgICAgICAgY29uc3QgbmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX25hbWVTZWxlY3Rvcik7XHJcbiAgICAgICAgY29uc3Qgam9iRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fam9iU2VsZWN0b3IpO1xyXG5cclxuICAgICAgICBuYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICAgICAgam9iRWxlbWVudC50ZXh0Q29udGVudCA9IGFib3V0O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBVc2VySW5mbyB9OyIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4ocGhvdG9JbWFnZSwgbmFtZSkge1xyXG4gICAgICAgIGNvbnN0IHBob3RvQ29udGFpbmVyID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwLXBob3RvX19jb250YWluZXInKTtcclxuICAgICAgICBjb25zdCBwaG90byA9IHBob3RvQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1waG90b19fcGhvdG8nKTtcclxuICAgICAgICBjb25zdCB0aXRsZSA9IHBob3RvQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1waG90b19fdGl0bGUnKTtcclxuXHJcbiAgICAgICAgcGhvdG8uc3JjID0gcGhvdG9JbWFnZTtcclxuICAgICAgICB0aXRsZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICAgICAgcGhvdG8uYWx0ID0gbmFtZTtcclxuICAgICAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IFBvcHVwV2l0aEltYWdlIH07Il0sIm5hbWVzIjpbIkZvcm1WYWxpZGF0b3IiLCJjb25zdHJ1Y3RvciIsInNldHRpbmdzIiwiZm9ybSIsInRoaXMiLCJfc2V0dGluZ3MiLCJfZm9ybSIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0RWxlbWVudCIsImVycm9yTWVzc2FnZSIsImVycm9yRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJpZCIsImNsYXNzTGlzdCIsImFkZCIsImlucHV0RXJyb3JDbGFzcyIsInRleHRDb250ZW50IiwiZXJyb3JDbGFzcyIsIl9oaWRlSW5wdXRFcnJvciIsInJlbW92ZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ2YWxpZGl0eSIsInZhbGlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGFzSW52YWxpZElucHV0IiwiX2lucHV0TGlzdCIsInNvbWUiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfYnV0dG9uRWxlbWVudCIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiZm9yRWFjaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZXNldFZhbGlkYXRpb24iLCJlbmFibGVWYWxpZGF0aW9uIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJkb2N1bWVudCIsIkNhcmQiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJuYW1lIiwibGluayIsIl9lbGVtZW50IiwidG9nZ2xlIiwiX25hbWUiLCJfaW1hZ2UiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUNhcmRDbGljayIsImNyZWF0ZUNhcmQiLCJfY3JlYXRlTmV3UGhvdG9DYXJkRWxlbWVudCIsIl9hZGRFdmVudExpc3RlbmVycyIsImxpa2VCdXR0b24iLCJfYWRkTGlrZUV2ZW50TGlzdGVuZXIiLCJkZWxldGVCdXR0b24iLCJfYWRkRGVsZXRlRXZlbnRMaXN0ZW5lciIsInBob3RvIiwiX2FkZE9wZW5QaG90b0V2ZW50TGlzdGVuZXIiLCJwaG90b0NhcmQiLCJjbG9uZU5vZGUiLCJwaG90b1RpdGxlIiwic3JjIiwiYWx0IiwiX2hhbmRsZUxpa2VFdmVudCIsIl9oYW5kbGVEZWxldGVFdmVudCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsImtleSIsIl9wb3B1cCIsImNvbnRhaW5zIiwiY2xvc2UiLCJ0YXJnZXQiLCJvcGVuIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJyZW1vdmVFdmVudExpc3RlbmVycyIsIl9oYW5kbGVDbGlja09uT3ZlcmxheUNsb3NlIiwiX2hhbmRsZUVzY0Nsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVTdWJtaXQiLCJzdXBlciIsIl9oYW5kbGVTdWJtaXQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJpbnB1dFZhbHVlcyIsImlucHV0IiwiZ2V0QXR0cmlidXRlIiwidmFsdWUiLCJfaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQiLCJyZXNldCIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiY2xlYXIiLCJpbm5lckhUTUwiLCJpdGVtIiwiYWRkSXRlbSIsInByZXBlbmQiLCJwb3B1cEVkaXQiLCJwb3B1cEFkZCIsInBvcHVwUGhvdG8iLCJjbG9zZUJ1dHRvbkVkaXQiLCJjbG9zZUJ1dHRvbkFkZCIsImNsb3NlQnV0dG9uUGhvdG8iLCJmb3JtRWRpdCIsIm5hbWVJbnB1dCIsImRlc2NyaXB0aW9uSW5wdXQiLCJmb3JtQWRkIiwidGl0bGVJbnB1dCIsImxpbmtJbnB1dCIsInByb2ZpbGUiLCJlZGl0QnV0dG9uIiwiYWRkQnV0dG9uIiwicGhvdG9DYXJkVGVtcGxhdGUiLCJjb250ZW50IiwiZm9ybXMiLCJNYXAiLCJ2YWxpZGF0aW9uQ29uZmlnIiwiZm9ybVNlbGVjdG9yIiwicmVuZGVyQ2FyZCIsImNhcmQiLCJwaG90b1BvcHVwIiwiYXBpIiwib3B0aW9ucyIsIl9vcHRpb25zIiwiZ2V0SW5pdGlhbENhcmRzIiwiZmV0Y2giLCJiYXNlVXJsIiwiaGVhZGVycyIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiY2F0Y2giLCJlcnIiLCJmaW5hbGx5IiwiY29uc29sZSIsImxvZyIsInNldE5ld0NhcmQiLCJjYXJkTmFtZSIsImNhcmRMaW5rIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJnZXRDYXJkTGlrZXMiLCJnZXRVc2VySW5mbyIsInNldFVzZXJJbmZvIiwibmV3TmFtZSIsIm5ld0Fib3V0IiwiYWJvdXQiLCJhdXRob3JpemF0aW9uIiwidXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJqb2JTZWxlY3RvciIsIl9uYW1lU2VsZWN0b3IiLCJfam9iU2VsZWN0b3IiLCJqb2IiLCJuYW1lRWxlbWVudCIsImpvYkVsZW1lbnQiLCJzZWN0aW9uIiwiYWRkUG9wdXAiLCJuZXdDYXJkIiwiZWRpdFBvcHVwIiwicGhvdG9JbWFnZSIsInBob3RvQ29udGFpbmVyIiwidGl0bGUiLCJmb3JtRWxlbWVudCIsImZvcm1OYW1lIiwiZm9ybVZhbGlkYXRvciIsInNldCIsImdldCIsImN1cnJlbnRVc2VySW5mbyJdLCJzb3VyY2VSb290IjoiIn0=